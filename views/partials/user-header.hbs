<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Shopping Cart</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03"
                aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="mx-auto d-lg-none row">
                {{#if user}}
                <form class="form-inline my-2 my-lg-0" onsubmit="searchProducts(event)">
                    <div class="input-group">
                        <input class="form-control mr-sm-2" type="search" id="search-input" placeholder="Search" aria-label="Search">
                        <div class="input-group-append">
                            <button class="btn btn-outline-success my-2 my-sm-0" type="submit"><i class="bi bi-search"></i></button>
                           
                        </div>
                    </div>
                </form>
                {{/if}}
            </div>

            <div class="collapse navbar-collapse justify-content-between" id="navbarTogglerDemo03">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    {{#if user}}
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/cart">Cart <span class="badge badge-success" id="cart-count">{{cartCount}}</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/orders">Orders</a>
                    </li>
                    
                    {{/if}}
                     <li class="nav-item">
                        <a class="nav-link" href="/view-product">Product</a>
                    </li>
                </ul>

                <div class="mx-auto d-lg-block d-sm-none">
                    {{#if user}}
                    <form class="form-inline my-2 my-lg-0" onsubmit="searchProducts(event)">
                        <div class="input-group">
                            <input class="form-control mr-sm-2" type="search" id="search-inputs" placeholder="Search" aria-label="Search">
                            <div class="input-group-append">
                                <button class="btn btn-outline-success my-2 my-sm-0 bi bi-search" type="submit"><span class="pl-2">Search</span></button>
                                
                                
                            </div>
                        </div>
                    </form>
                    {{/if}}
                </div>

                <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                    <li class="nav-item dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{#if user}}
                           Hello, <b>{{user.First_Name}}</b>
                            {{else}}
                           <i class="bi bi-person-circle mr-1"></i> Account
                            {{/if}}
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            {{#if user}}
                            <a class="dropdown-item" href="/your-account"><i class="bi bi-person-circle"></i> Your Account</a>
                            <a class="dropdown-item" href=""><i class="bi bi-headset"></i> Customer Care</a>
                             <a class="dropdown-item" href=""><i class="bi bi-info-circle-fill"></i> About Us</a>
                              <a class="dropdown-item" href="/logout"><i class="bi bi-box-arrow-left"></i> Logout</a>
                            {{else}}
                            <a class="dropdown-item" href="/login"><i class="bi bi-box-arrow-in-left"></i> Login</a>
                            <a class="dropdown-item" href="/"><i class="bi bi-person-square"></i> Guest</a>
                             <a class="dropdown-item" href=""><i class="bi bi-headset"></i> Customer Care</a>
                             <a class="dropdown-item" href=""><i class="bi bi-info-circle-fill"></i> About</a>
                            <a class="dropdown-item" href="/admin/login"><i class="bi bi-person-fill-check"></i> Admin</a>
                            {{/if}}
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<script>
document.addEventListener("DOMContentLoaded", function() {
  var lastScrollTop = 0;
  var header = document.querySelector("header");

  window.addEventListener("scroll", function() {
    var currentScroll = window.pageYOffset || document.documentElement.scrollTop;

    if (currentScroll > lastScrollTop) {
      // Downscroll
      header.style.top = "-60px"; // Adjust the value if the header height is different
    } else {
      // Upscroll
      header.style.top = "0";
    }

    lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // For Mobile or negative scrolling
  }, false);
});
</script>

  <style>
    body {
      padding-top: 60px; /* Adjust this value to match the height of your header */
    }

    header {
      position: fixed;
      
      width: 100%;
      z-index: 1;
      top: 0;
      transition: top 0.3s; /* Smooth transition */
    }

    .nav-item.dropdown:hover .dropdown-menu {
    display: block;
    }

  </style>